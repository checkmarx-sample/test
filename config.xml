<?xml version='1.1' encoding='UTF-8'?>
<flow-definition plugin="workflow-job@2.21">
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties/>
  <definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.53">
    <script>node {
    stage (&apos;Demo Setup Steps&apos;)
    {
        println(&apos;Demo Setup Steps&apos;);
        //setup credentials first 
        //bat &apos;C:\\share\\Groovy\\pipelinsample\\MoveFile.cmd&apos;

        
    }
    stage(&apos;Git&apos;) {
         println(&apos;git&apos;);
         git credentialsId: &apos;d9e9ffa5-24a1-4645-8f6e-679c43ce61fa&apos;, url: &apos;https://github.com/checkmarx-sample/test.git&apos;
    
        
        //C:\Windows\System32\config\systemprofile\.jenkins\workspace\SamplePipelineScript
        
    }    
    stage (&apos;Extract Script&apos;) {
        
        println(&apos;Extract Script&apos;);
		//String tempFilePath = &apos;C:\\share\\Groovy\\pipelinsample&apos;;
		String tempFilePath = &apos;C:\\Windows\\System32\\config\\systemprofile\\.jenkins\\workspace\\SamplePipelineScan&apos;;
		String tempFileName = tempFilePath +&apos;\\&apos;+ &apos;temp.groovy&apos;
        def xmlText = new XmlSlurper().parse(&apos;C:\\Windows\\System32\\config\\systemprofile\\.jenkins\\workspace\\SamplePipelineScan\\config.xml&apos;);
        def sScript = xmlText.depthFirst().findAll { it.name() == &apos;script&apos; }
        theDir = new File(tempFileName);
        theDir.createNewFile();
        theDir.append(sScript)
     }    
}</script>
    <sandbox>true</sandbox>
  </definition>
  <triggers/>
  <disabled>false</disabled>
</flow-definition>